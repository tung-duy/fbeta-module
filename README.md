# Fbeta Helper Management

[![npm version](https://badge.fury.io/js/%40fbeta%2Fhelper.svg)](https://www.npmjs.com/package/@fbeta/helper)

<p align="center">
  <img width="460" height="300" src="https://dev.fpt.work/images/FTI/15c12a77-2b45-4057-bb0a-aa07fb1d8a29.svg">
</p>

---

## Installation

Install with [npm](https://www.npmjs.com/):

```sh
# Install package

$  npm install @fbeta/helper

```

## Import module

```js
const fbetaHelper = require("@fbeta/helper");
```

---

## callAPI

**Set environment variables**

```js
// Use the .env file

BASE_URL: "http://localhost:3000";
```

**Usage**

```js
  const { callApi } = fbetaHelper;

  // GET method
  callApi.get('http://localhost:3000');

  // POST method
  const data = {};
  const config =  {
    headers: {
      Authorization: token,
  };

  callApi.post('http://localhost:3000', data, header, config);

```

---

## Send mail

**Set environment variables**

```js
// Use the .env file

PORT_SENDER = 1234;
HOST_SENDER = mail.smtp.com;
USER_SENDER = username;
PASS_SENDER = password;

// Or use the configEmail

const configEmail = {
  port: 1234,
  host: "mail.smtp.com",
  user: "username",
  pass: "password",
};
```

**Usage**

```js
const { sendEmail } = fbetaHelper;

const sendMailData = {
  template: "success.html", // Email template name is required
  subject: "Congratulation", // Email subject is required
  email: "email@example.com", // Email address of the recipient is required
  data: {
    url: "http://localhost:3000",
    name: "",
    content: "",
  }, // Email content may be empty
};

try {
  sendEmail(sendMailData, configEmail);
  // => Return promise
} catch (err) {
  console.log("err", err);
}
```

##### Email template name

**success.html**

  <!-- <img align="center" src="https://dev.fpt.work/images/fpt/a15ca625-de53-47d7-808d-83292ecddb14.jpeg"> -->

```js
  const data {
    url: "http://localhost:3000", // Link button
  }

  sendMailData.data = data;

```

**verify-email.html**

  <!-- <img align="center"  src="https://dev.fpt.work/images/fpt/30316466-954e-4b8c-9e42-1403beda5028.jpeg"> -->

```js
  const data {
    url: "http://localhost:3000", // Link of the active button
  }

  sendMailData.data = data;

```

**forgot-password.html**

  <!-- <img align="center"  src="https://dev.fpt.work/images/FTI/03dcd7a1-f8dc-4885-85e4-5a3314c728c8.png"> -->

```js
  const data {
    url: "http://localhost:3000", // Link of the active button
  }

  sendMailData.data = data;

```
**message.html**

  <!-- <img align="center"  src="https://dev.fpt.work/images/FTI/03dcd7a1-f8dc-4885-85e4-5a3314c728c8.png"> -->

```js
  const data {
    url: "http://localhost:3000", // Link of the active button
    name: "Tùng Duy", // Your name
    customer_name: "John", // Your partner name
    customer_email: "john@example.com", // Your partner email
    phone: "0123456789", // Your partner phone number
    content: "Lorem...." // Content email
  }

  sendMailData.data = data;

```

##### API Documentation

`sendEmail` exposes the following api:

sendEmail(sendMailData, configEmail)

The exported `sendEmail` function takes a `sendMailData` object and one optional argument. The `configEmail` is an object, If environment variables are used, this option can be left blank.

###### sendMailData (Object):

Default: `{ template, subject, email, data }`

###### configEmail (Object):

Default: `{ port, host, user, pass }`

---

## Authors and acknowledgment

- Project manager: `tungdd5@fpt.com.vn`

## Support

Reach out to me at one of the following places!

- Website at https://fbeta.tech
- Email: support@fbeta.tech
- Phone: 0358001357

## License

Copyright © 2020 FPT VPN. Crafted with :heart: by [Fbeta.tech](https://fbeta.tech) - tungdd5@fpt.com.vn.
Released under the [MIT License](LICENSE).

---

This file was generated by [Tùng Duy](https://github.com/tung-duy/fbeta-module/blob/master/README.md), v1.1.0, on May 10, 2020.
